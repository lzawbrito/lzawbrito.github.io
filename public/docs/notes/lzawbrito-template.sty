\ProvidesPackage{lzawbrito-template}

% USAGE: Import using 
% Babel for language-based rules
\usepackage[english]{babel}

% For fancier command definitions; see \setdocnames in line 142
\usepackage{xparse}

% Nicer typography
\usepackage{microtype}

\usepackage{multicol}

% Table of contents formatting. 
\usepackage[titles]{tocloft}
\renewcommand{\cftsecfont}{\sffamily}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecpagefont}{\sffamily}

% Tighter text 
% \usepackage[subtle]{savetrees}

% Symbols, etc
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{siunitx}   % Units
\usepackage{physics}   % Highly controversial package... can comment out 
\usepackage{upgreek}   % Upright greek letters
\usepackage{cancel}    % Cancel (slash) terms in an equation
\usepackage{slashed}   % Feynman slash

% Figures, etc.
\usepackage{graphicx}
\usepackage{subcaption} % Subfigures
\usepackage{wrapfig}

% Tikz for diagrams
\usepackage{tikz}
\usepackage{tikz-feynman}

% Equation annotations
\usetikzlibrary{arrows,shapes}
\usetikzlibrary{backgrounds}
\usepackage{annotate-equations}
% Change annotation font
\renewcommand{\eqnannotationtext}[1]{\rmfamily\footnotesize#1\strut}

% Change style of equation numbering to monospaced and gray
\makeatletter
\renewcommand{\maketag@@@}[1]{\hbox{\m@th\ttfamily\small\color{lightgray}#1}}%
\makeatother

% Additional color definitions
\usepackage{xcolor}
\input{/Users/lzawbrito/latex-templates/color-palette.tex}

% Hyperlinks, links to sections in doc, etc.
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    citecolor=mygreen,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=myblue,
}

\usepackage{cleveref}

% Custom enumeration (e.g., a), b), ...)
\usepackage{enumitem}	

% Change margin
\usepackage[top=1in, bottom=1in, left=0.75in, right=0.75in]{geometry}

% Change page layout in the middle of document or different layout for odd or 
% even pages.
\usepackage{changepage}

% Improved table spacing
\usepackage{booktabs}

% Epigraph
\usepackage{epigraph}

% Fancy header and footer
% Use \chead{...}, \lhead{...}, \rhead{...}...
\usepackage{fancyhdr}

% Fancy sections
\usepackage{titlesec}
\titleformat{\section}
{\sffamily\Large\bfseries}{\thesection}{1em}{}[{\titlerule[0.5pt]}]
\titleformat{\subsection}
{\sffamily\Large\bfseries}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{0in}{1em}{0.25em}

% Indent size
\setlength\parindent{0cm}

% Space after paragraph
\setlength{\parskip}{.5em}

% Problem and solution sections 
\newcommand{\problem}[2][]{\section*{#2 {\normalfont\sffamily \hspace{0.25em} #1}}}
\newcommand{\solution}{\subsection*{Solution}}
\newenvironment{solutionenv}{\solution}{}

% Fancy code styling
\usepackage{minted}
\setminted[]{ % Set minted default settings
        tabsize=4,
        xleftmargin=0.2em,
        xrightmargin=0.0in, 
        linenos,
        numbersep=2pt,
    }
\renewcommand{\theFancyVerbLine}{ % Change code line style
    \ttfamily 
    \color{lightgray}
    \scriptsize{\arabic{FancyVerbLine}}
    }


% Fancy boxes
\usepackage[breakable, skins]{tcolorbox}

% Problem question box
\newtcolorbox[]{qbox}[1][]{
    boxrule=0.5pt,
    colframe=gray,
    colback=lightgray!25!white, 
    sharp corners,
    breakable,
    parbox=false,
    after skip=15pt
}

\newtcolorbox[]{tocbox}[1][]{
    boxrule=0.5pt,
    colframe=gray,
    colback=lightgray!25!white, 
    sharp corners,
    breakable,
    % parbox=false,
    after skip=15pt
}

\newtcolorbox[auto counter, number within=section]{exbox}[1][]{
    boxrule=0.75pt,
    colframe=gray,
    colback=lightgray!25!white, 
    sharp corners,
    breakable,
    toptitle=4pt,
    bottomtitle=2pt,
    parbox=false,
    title=\textsf{Example~\thetcbcounter: #1}
}

\newtcolorbox[auto counter, number within=section]{namedbox}[1][]{
    boxrule=0.75pt,
    colframe=gray,
    colback=lightgray!25!white, 
    sharp corners,
    breakable,
    toptitle=2pt,
    bottomtitle=2pt,
    title=\textsf{#1}
}

\newtcolorbox[auto counter, number within=section]{thinnamedbox}[1][]{
    boxrule=0.75pt,
    colframe=gray,
    colback=lightgray!25!white, 
    sharp corners,
    breakable,
    toptitle=2pt,
    bottomtitle=2pt,
    width=0.75\linewidth,
    center,
    title=\textsf{#1}
}

\newtcolorbox[]{alertbox}[1][]{
    enhanced,
    fonttitle=\bfseries,
    title=\textsf{#1},
    attach boxed title to top left={},
    boxed title style={
        boxrule=0pt,
        sharp corners,
        colback=myred!65!white,
        boxsep=5pt,
    },
    boxrule=0.75pt,
    colback=myred!5!white, 
    colframe=myred!65!white,
    sharp corners,
    width=0.75\linewidth,
    after skip=15pt,
    center
}

\newtcolorbox[]{notebox}[1][]{
    boxrule=0.75pt,
    colframe=mybluemute,
    colback=lightgray!25!white, 
    sharp corners,
    breakable,
    toptitle=2pt,
    bottomtitle=2pt,
    title=\textsf{Note},
    width=0.75\linewidth,
    center
}

\newtcolorbox[]{codebox}[1][]{
    boxrule=0pt,
    colframe=lightgray,
    colback=lightgray!25!white, 
    breakable,
    after skip=10pt,
    center,
}

% Wrap minted in tcolorbox
\BeforeBeginEnvironment{minted}{\begin{codebox}}
\AfterEndEnvironment{minted}{\end{codebox}}

\DeclareOption{usefancyhdr}{
    \pagestyle{fancy}
    \fancyhf{}
    \fancyfoot[C]{\sffamily\thepage}
}
\DeclareOption*{\PackageWarning{examplepackage}{Unknown ‘\CurrentOption’}}
\ProcessOptions\relax

% Facilitate document title, author, affiliation formatting 
\NewDocumentCommand{\setdocnames}{m m o}{
    \IfValueTF{#3}{
        \lhead{\sffamily #1}
        \chead{\sffamily #2}
        \rhead{\sffamily #3}
        \title{\textbf{\textsf{#2}}}
        \author{#1\\\texttt{#3}}
    }{
        \lhead{\sffamily #1}
        \rhead{\sffamily #2}
        \title{\textbf{\textsf{#2}}}
        \author{#1}
    }
}

\newcommand{\mynote}[1]{{\color{gray}\sffamily #1}}
\input{/Users/lzawbrito/latex-templates/macros.tex}